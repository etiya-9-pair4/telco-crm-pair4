<div
  class="max-w-7xl pb-6 bg-white border border-gray-200 rounded-3xl shadow dark:bg-gray-800 dark:border-gray-700"
>
  <div class="tab-header mb-4">
    <ul
      class="flex flex-wrap justify-center text-sm font-medium text-center text-white bg-orange-500 rounded-3xl"
    >
      <li
        class="me-2"
        role="presentation"
        *ngFor="
          let tab of ['Customer Info', 'Address', 'Contact Medium'];
          let i = index
        "
      >
        <button
          class="inline-block p-4 rounded-t-lg border-b-2 border-transparent"
          [ngClass]="{ 'border-white': currentTab === i }"
        >
          {{ tab }}
        </button>
      </li>
    </ul>
  </div>

  <form
    [formGroup]="mainForm"
    (ngSubmit)="onSubmit()"
    class="form-content px-6"
  >
    <!-- Customer Info Tab -->
    <div *ngIf="currentTab === 0" formGroupName="customerInfo">
      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="form-group">
          <label for="first_name">First Name (*)</label>
          <input
            formControlName="firstName"
            id="first_name"
            type="text"
            class="input-field"
            placeholder="Enter First Name"
          />
          <div
            *ngIf="
              mainForm.get('customerInfo.firstName')?.touched &&
              mainForm.get('customerInfo.firstName')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('customerInfo.firstName')?.errors?.['required']"
            >
              First Name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="nat_id">Nat ID (*)</label>
          <input
            formControlName="natId"
            id="nat_id"
            type="text"
            class="input-field"
            placeholder="12345678901"
          />
          <div
            *ngIf="
              mainForm.get('customerInfo.natId')?.touched &&
              mainForm.get('customerInfo.natId')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('customerInfo.natId')?.errors?.['required']"
            >
              Nat ID is required.
            </div>
            <div
              *ngIf="mainForm.get('customerInfo.natId')?.errors?.['pattern']"
            >
              Nat ID must be at least 11 characters long.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="middle_name">Middle Name</label>
          <input
            formControlName="middleName"
            id="middle_name"
            type="text"
            class="input-field"
            placeholder="Enter Middle Name"
          />
        </div>

        <div class="form-group">
          <label for="birthdate">Birth Date (*)</label>
          <input
            formControlName="birthDate"
            id="birthdate"
            type="date"
            class="input-field"
          />
          <div
            *ngIf="
              mainForm.get('customerInfo.birthDate')?.touched &&
              mainForm.get('customerInfo.birthDate')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('customerInfo.birthDate')?.errors?.['required']"
            >
              Birth Date is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="last_name">Last Name (*)</label>
          <input
            formControlName="lastName"
            id="last_name"
            type="text"
            class="input-field"
            placeholder="Enter Last Name"
          />
          <div
            *ngIf="
              mainForm.get('customerInfo.lastName')?.touched &&
              mainForm.get('customerInfo.lastName')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('customerInfo.lastName')?.errors?.['required']"
            >
              Last Name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="mother_name">Mother Name</label>
          <input
            formControlName="motherName"
            id="mother_name"
            type="text"
            class="input-field"
            placeholder="Enter Mother Name"
          />
        </div>

        <div class="form-group">
          <label for="gender">Gender (*)</label>
          <select formControlName="gender" id="gender" class="input-field">
            <option value="" disabled selected>Select</option>
            <option
              *ngFor="let gender of genders; let i = index"
              [value]="i + 1"
            >
              {{ gender }}
            </option>
          </select>
          <div
            *ngIf="
              mainForm.get('customerInfo.gender')?.touched &&
              mainForm.get('customerInfo.gender')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('customerInfo.gender')?.errors?.['required']"
            >
              Gender is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="father_name">Father Name</label>
          <input
            formControlName="fatherName"
            id="father_name"
            type="text"
            class="input-field"
            placeholder="Enter Father Name"
          />
        </div>
      </div>
    </div>

    <!-- Address Tab -->
    <div *ngIf="currentTab === 1" formGroupName="address">
      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="form-group">
          <label for="city">City (*)</label>
          <select formControlName="city" id="city" class="input-field">
            <option value="" disabled selected>Select</option>
            <option value="Istanbul">Istanbul</option>
            <option value="Ankara">Ankara</option>
            <option value="Izmir">Izmir</option>
          </select>
          <div
            *ngIf="
              mainForm.get('address.city')?.touched &&
              mainForm.get('address.city')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div *ngIf="mainForm.get('address.city')?.errors?.['required']">
              City is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="district">District (*)</label>
          <select formControlName="district" id="district" class="input-field">
            <option value="" disabled selected>Select</option>
            <option
              *ngFor="let district of districts; let i = index"
              [value]="i + 1"
            >
              {{ district }}
            </option>
          </select>
          <div
            *ngIf="
              mainForm.get('address.district')?.touched &&
              mainForm.get('address.district')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div *ngIf="mainForm.get('address.district')?.errors?.['required']">
              District is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="houseNumber">House / Flat Number (*)</label>
          <input
            formControlName="houseNumber"
            id="houseNumber"
            type="text"
            class="input-field"
            placeholder="Enter House/Flat Number"
          />
          <div
            *ngIf="
              mainForm.get('address.houseNumber')?.touched &&
              mainForm.get('address.houseNumber')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('address.houseNumber')?.errors?.['required']"
            >
              House Number is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="street">Street (*)</label>
          <input
            formControlName="street"
            id="street"
            type="text"
            class="input-field"
            placeholder="Enter Street"
          />
          <div
            *ngIf="
              mainForm.get('address.street')?.touched &&
              mainForm.get('address.street')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div *ngIf="mainForm.get('address.street')?.errors?.['required']">
              Street is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="addressDescription">Address Description</label>
          <textarea
            formControlName="addressDescription"
            id="addressDescription"
            rows="2"
            class="input-field"
            placeholder="Additional address information"
          ></textarea>
        </div>

        <div class="form-group col-span-2 flex items-center">
          <input
            formControlName="isDefault"
            id="defaultAddress"
            type="checkbox"
            class="mr-2"
          />
          <label for="defaultAddress">Default Address</label>
        </div>
      </div>
    </div>

    <!-- Contact Medium Tab -->
    <div *ngIf="currentTab === 2" formGroupName="contactMedium">
      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="form-group">
          <label for="email">E-mail (*)</label>
          <input
            formControlName="email"
            id="email"
            type="email"
            class="input-field"
            placeholder="example@gmail.com"
          />
          <div
            *ngIf="
              mainForm.get('contactMedium.email')?.touched &&
              mainForm.get('contactMedium.email')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('contactMedium.email')?.errors?.['required']"
            >
              Email is required.
            </div>
            <div *ngIf="mainForm.get('contactMedium.email')?.errors?.['email']">
              Please enter a valid email address.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="gsmNumber">GSM Number (*)</label>
          <input
            formControlName="gsmNumber"
            id="gsmNumber"
            type="tel"
            class="input-field"
            placeholder="555 555 5555"
          />
          <div
            *ngIf="
              mainForm.get('contactMedium.gsmNumber')?.touched &&
              mainForm.get('contactMedium.gsmNumber')?.invalid
            "
            class="text-red-500 text-sm"
          >
            <div
              *ngIf="mainForm.get('contactMedium.gsmNumber')?.errors?.['required']"
            >
              GSM Number is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="homePhone">Home Phone</label>
          <input
            formControlName="homePhone"
            id="homePhone"
            type="tel"
            class="input-field"
            placeholder="312 234 5678"
          />
        </div>

        <div class="form-group">
          <label for="fax">Fax</label>
          <input
            formControlName="fax"
            id="fax"
            type="text"
            class="input-field"
            placeholder="Fax number"
          />
        </div>
      </div>
    </div>

    <div class="button-container flex justify-between items-center mt-4">
      <!-- Previous butonu yalnızca currentTab > 0 iken görünsün -->
      <button
        *ngIf="currentTab > 0"
        type="button"
        (click)="prevTab()"
        class="btn-previous border rounded px-6 py-2 bg-gray-300 text-black hover:bg-gray-400"
      >
        Previous
      </button>

      <!-- Sekme göstergesi (sayfa indikatörleri) -->
      <div class="page-indicators flex justify-center flex-1">
        <span
          class="indicator"
          *ngFor="let _ of [0, 1, 2]; let i = index"
          [class.active]="currentTab === i"
        ></span>
      </div>

      <!-- Next ve Create butonları -->
      <button
        *ngIf="currentTab < 2"
        type="button"
        (click)="nextTab()"
        class="btn-next border rounded px-6 py-2 bg-green-500 text-white hover:bg-green-600"
      >
        Next
      </button>
      <button
        *ngIf="currentTab === 2"
        type="submit"
        class="btn-submit border rounded px-6 py-2 bg-green-500 text-white hover:bg-green-600"
      >
        Create
      </button>
    </div>
  </form>
</div>
